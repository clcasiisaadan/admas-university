<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>University Admin | ADMAS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="Admin.css">
    <style>
        /* CSS-ka Review Modal-ka */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 1000; align-items: center; justify-content: center; }
        .modal-content { background: white; width: 90%; max-width: 800px; border-radius: 12px; overflow-y: auto; max-height: 90vh; position: relative; }
        .review-header { background: #0a2540; color: white; padding: 20px; text-align: center; }
        .close { position: absolute; right: 20px; top: 15px; color: white; cursor: pointer; font-size: 28px; }
        .review-body { padding: 30px; }
        .form-section-title { background: #f4f7fa; padding: 10px; font-weight: bold; border-left: 4px solid #0099ff; margin: 20px 0 15px; color: #0a2540; }
        .form-look-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .view-group label { display: block; font-size: 11px; color: #888; font-weight: bold; text-transform: uppercase; }
        .view-group span { display: block; font-size: 15px; padding: 5px 0; border-bottom: 1px solid #eee; color: #333; }
        .doc-preview-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 10px; }
        .doc-box img { width: 100%; height: 200px; object-fit: cover; border-radius: 8px; border: 1px solid #ddd; background: #fafafa; }
        .badge { background: #ff4d4d; color: white; padding: 2px 8px; border-radius: 10px; font-size: 12px; font-weight: bold; }
        .btn-submit { padding: 12px 20px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; color: white; width: 100%; }
        
        /* Search Box Style */
        .search-container { position: relative; margin: 15px 0; }
        .search-container i { position: absolute; left: 10px; top: 12px; color: #888; }
        .search-container input { width: 100%; padding: 10px 10px 10px 35px; border: 1px solid #ddd; border-radius: 5px; font-size: 14px; }
    </style>
</head>
<body>

<div class="sidebar">
    <h2><i class="fas fa-university"></i> ADMAS</h2>
    <div class="nav-link active" onclick="showTab('newRequests')">
        <i class="fas fa-user-clock"></i> New Requests <span id="reqBadge" class="badge">0</span>
    </div>
    <div class="nav-link" onclick="showTab('register')"><i class="fas fa-user-plus"></i> Register Student</div>
    <div class="nav-link" onclick="showTab('teachers')"><i class="fas fa-chalkboard-teacher"></i> Teachers</div>
    <div class="nav-link" onclick="showTab('courses')"><i class="fas fa-book"></i> Manage Courses</div>
    <div class="nav-link" onclick="showTab('classes')"><i class="fas fa-layer-group"></i> Manage Classes</div>
    <div class="nav-link" onclick="showTab('exams')"><i class="fas fa-file-signature"></i> Manage Exams</div>
    <div class="nav-link" onclick="showTab('grades')"><i class="fas fa-graduation-cap"></i> Student Grades</div>
    <div class="nav-link" onclick="showTab('attendance')"><i class="fas fa-calendar-check"></i> Attendance</div>
    
    <div class="nav-link logout-link" onclick="logoutAdmin()" style="margin-top:auto;">
        <i class="fas fa-sign-out-alt"></i> Logout
    </div>
</div>

<div class="main-content">

    <div id="newRequests" class="tab-content active">
        <div class="form-card">
            <h3>Pending Admission Requests</h3>
            <table>
                <thead>
                    <tr><th>Full Name</th><th>ID/User</th><th>Faculty</th><th>Action</th></tr>
                </thead>
                <tbody id="requestTable"></tbody>
            </table>
        </div>
    </div>

    <div id="register" class="tab-content">
        <div class="form-card">
            <h3 id="studentFormTitle">Student Management</h3>
            <input type="hidden" id="editStudentId" value="">
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                <div class="input-group"><label>Full Name</label><input type="text" id="regName"></div>
                <div class="input-group"><label>Student ID</label><input type="text" id="regID"></div>
                <div class="input-group"><label>Email</label><input type="email" id="regEmail"></div>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-top: 15px;">
                <div class="input-group"><label>Parent Name</label><input type="text" id="regParent"></div>
                <div class="input-group"><label>Parent Phone</label><input type="text" id="regPPhone"></div>
                <div class="input-group"><label>Faculty</label>
                    <select id="regFaculty">
                        <option>IT & Computer Science</option>
                        <option>Business Administration</option>
                        <option>Engineering</option>
                        <option>Medicine</option>
                    </select>
                </div>
            </div>
            <div style="display: grid; grid-template-columns: 1fr; margin-top: 15px;">
                <div class="input-group"><label>Set Login Password</label><input type="password" id="regPassword" placeholder="Enter student password"></div>
            </div>
            <button id="studentSaveBtn" class="btn-submit" style="background:#0a2540; margin-top:15px;" onclick="saveStudent()">Save Student</button>
            <hr>
            
            <div class="search-container">
                <i class="fas fa-search"></i>
                <input type="text" id="studentSearch" placeholder="Search by Name or ID..." onkeyup="searchStudents()">
            </div>
            
            <table>
                <thead><tr><th>Name</th><th>ID</th><th>Faculty</th><th>Action</th></tr></thead>
                <tbody id="studentTable"></tbody>
            </table>
        </div>
    </div>

    <div id="teachers" class="tab-content">
        <div class="form-card">
            <h3>Teacher Management</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                <div class="input-group"><label>Teacher Name</label><input type="text" id="tName"></div>
                <div class="input-group"><label>Username</label><input type="text" id="tUser"></div>
                <div class="input-group"><label>Department</label><input type="text" id="tDept"></div>
            </div>
            <div class="input-group"><label>Password</label><input type="password" id="tPass"></div>
            <button class="btn-submit" style="background:#0a2540; margin-top:15px;" onclick="saveTeacher()">Save Teacher</button>
            <hr>
            <table><thead><tr><th>Name</th><th>Username</th><th>Dept</th><th>Action</th></tr></thead><tbody id="teacherTableBody"></tbody></table>
        </div>
    </div>

    <div id="courses" class="tab-content">
        <div class="form-card">
            <h3>Course Management</h3>
            <div style="display: flex; gap: 15px;">
                <div class="input-group" style="flex: 2;"><label>Course Name</label><input type="text" id="courseName"></div>
                <div class="input-group" style="flex: 1;"><label>Cr. Hours</label><input type="number" id="courseCrh" value="3"></div>
                <button class="btn-submit" style="background:#0a2540; margin-top:25px; width: 150px;" onclick="saveCourse()">Add Course</button>
            </div>
            <table><thead><tr><th>Course Name</th><th>Credits</th><th>Action</th></tr></thead><tbody id="courseTableBody"></tbody></table>
        </div>
    </div>

    <div id="classes" class="tab-content">
        <div class="form-card">
            <h3>Assign Teacher to Course</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="input-group"><label>Teacher</label><select id="classTeacher"></select></div>
                <div class="input-group"><label>Course</label><select id="classCourse"></select></div>
            </div>
            <button class="btn-submit" style="background:#0a2540; margin-top:15px;" onclick="saveClass()">Create Class Relation</button>
            <table><thead><tr><th>Teacher</th><th>Course</th><th>Action</th></tr></thead><tbody id="classTableBody"></tbody></table>
        </div>
    </div>

    <div id="exams" class="tab-content">
        <div class="form-card">
            <h3>Exam Management</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 10px;">
                <div class="input-group"><label>Course</label><select id="examCourse"></select></div>
                <div class="input-group"><label>Type</label><select id="examType"><option>Mid-Term</option><option>Final</option></select></div>
                <div class="input-group"><label>Date</label><input type="date" id="examDate"></div>
                <div class="input-group"><label>Time</label><input type="time" id="examTime"></div>
            </div>
            <button class="btn-submit" style="background:#0a2540; margin-top:15px;" onclick="saveExam()">Schedule Exam</button>
            <table><thead><tr><th>Course</th><th>Type</th><th>Date & Time</th><th>Action</th></tr></thead><tbody id="examTableBody"></tbody></table>
        </div>
    </div>

    <div id="grades" class="tab-content">
        <div class="form-card">
            <h3>Record Student Grades</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 10px;">
                <div class="input-group"><label>Student</label><select id="gradeStudent"></select></div>
                <div class="input-group"><label>Course</label><select id="gradeCourse"></select></div>
                <div class="input-group"><label>Type</label><select id="gradeType"><option>Mid</option><option>Final</option></select></div>
                <div class="input-group"><label>Score</label><input type="number" id="gradeScore"></div>
            </div>
            <button class="btn-submit" style="background:#0a2540; margin-top:15px;" onclick="saveGrade()">Save Grade</button>
            <table><thead><tr><th>Student</th><th>Course</th><th>Type</th><th>Score</th><th>Action</th></tr></thead><tbody id="gradeTableBody"></tbody></table>
        </div>
    </div>

    <div id="attendance" class="tab-content">
        <div class="form-card">
            <h3>Daily Attendance</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 10px;">
                <div class="input-group"><label>Date</label><input type="date" id="attDate"></div>
                <div class="input-group"><label>Student</label><select id="attStudent"></select></div>
                <div class="input-group"><label>Course</label><select id="attCourse"></select></div>
                <div class="input-group"><label>Status</label><select id="attStatus"><option>Present</option><option>Absent</option></select></div>
            </div>
            <button class="btn-submit" style="background:#0a2540; margin-top:15px;" onclick="saveAttendance()">Mark Attendance</button>
            <table><thead><tr><th>Date</th><th>Student</th><th>Course</th><th>Status</th><th>Action</th></tr></thead><tbody id="attTableBody"></tbody></table>
        </div>
    </div>

</div>

<div id="detailsModal" class="modal">
    <div class="modal-content">
        <div class="review-header">
            <h3><i class="fas fa-file-invoice"></i> Online Admission Review</h3>
            <span class="close" onclick="closeModal()">&times;</span>
        </div>
        <div class="review-body">
            <div class="form-section-title">1. Student Details</div>
            <div class="form-look-grid">
                <div class="view-group"><label>Full Name</label><span id="viewName"></span></div>
                <div class="view-group"><label>Desired ID</label><span id="viewID"></span></div>
                <div class="view-group"><label>Login Password</label><span id="viewPassword" style="color:blue; font-weight:bold;"></span></div>
            </div>

            <div class="form-section-title">2. Parent Information</div>
            <div class="form-look-grid">
                <div class="view-group"><label>Parent Name</label><span id="viewParent"></span></div>
                <div class="view-group"><label>Parent Phone</label><span id="viewPPhone"></span></div>
            </div>

            <div class="form-section-title">3. Uploaded Documents</div>
            <div class="doc-preview-grid">
                <div class="doc-box"><label>Student Photo</label><img id="viewPhoto" src=""></div>
                <div class="doc-box"><label>Certificate</label><img id="viewCert" src=""></div>
            </div>

            <div style="display: flex; gap: 15px; margin-top: 30px;">
                <button class="btn-submit" style="background:#28a745; flex:1;" id="approveBtn">Approve Application</button>
                <button class="btn-submit" style="background:#dc3545; flex:1;" id="rejectBtn">Reject Application</button>
            </div>
        </div>
    </div>
</div>

<script src="Admin.js">
    
</script>
</body>
</html>